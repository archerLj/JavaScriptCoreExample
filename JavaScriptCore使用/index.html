<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimal-ui" />
    <meta content="yes" name="apple-mobile-web-app-capable" />
    <meta content="black" name="apple-mobile-web-app-status-bar-style" />
    <meta name="format-detection" content="telphone=no" />
    <title>基本功能</title>
    <link href="./static/css/myCss.css" rel="stylesheet" type="text/css" />
</head>
<body>
    <h1>
        我是增量包</h1>
    <div class="btn-primary" id="webview">
        新开webview去到Header使用demo</div>
    <div class="btn-primary" id="native">
        跳转native页面hotel/detail</div>
    <div class="btn-primary" id="login">
        唤起登录框（未完成）</div>
    <input type="text" class="url" id="url" placeholder="增量资源地址" value="http://files.cnblogs.com/files/yexiaochai/hotel.zip">
    <div class="btn-primary" id="getIncrement">
        由上述地址获取增量</div>
    <h1 class="important">
        我是增量包Two</h1>
    <button onclick="doFooWithBar()">直接调用native方法</button>
    <script src="../libs/underscore.js" type="text/javascript"></script>
    <script src="../libs/zepto.js" type="text/javascript"></script>
    <script src="../libs/libs.js" type="text/javascript"></script>
    <script type="text/javascript">

        var person;  //用这个全局变量和native的Person变量绑定，之后就可以像下面这样直接用它去调用native的方法了。
        function doFooWithBar() {
            person.doFooWithBar("这是从js里面调用的","OC native的方法");
        }
        function textFunc() {
            var t = {"icon":"2", "action":"callFromOC"};
            return t;
        };
        function callFromOC() {
            alert("这是从OC Native直接调用的js方法");
        }
    
        $('#webview').click(function () {
            requestHybrid({
                tagname: 'forward',
                param: {
                    topage: 'flight/index.html',
                    type: 'webview'
                }
            });
        });

        $('#native').click(function () {
            requestHybrid({
                tagname: 'forward',
                param: {
                    topage: 'hotel/detail',
                    type: 'native'
                }
            });
        });

        $('#getIncrement').click(function () {
            requestHybrid({
                tagname: 'updateapp',
                param: {
                    url: $('#url').val(),
                    module: 'hotel'
                }
            });
        });

    </script>
</body>
</html>
